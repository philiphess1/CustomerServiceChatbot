{% extends "base.html" %}

{% block styles %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/integrations.css') }}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css" rel="stylesheet" />
{% endblock %}

{% block content %}
    <h1 class="mt-4">Integrations</h1>
    <h2 class="instructions">Web Page</h2>
    <div class="code-container">
        <div class="webpage">
            <a id="webpage-link">https://app.eccoai.org/{{ user_id }}/{{ chatbot_id }}</a>
        </div>
        <a id="view-website-btn" href="https://app.eccoai.org/{{ user_id }}/{{ chatbot_id }}" target="_blank">
            <img src="{{ url_for('static', filename='images/globe.png') }}" class="copy-img" style="cursor: pointer;"> <!-- Replace the button with an image -->
        </a>
        <p style="color: #d3cece; margin-top: 5px;">Place this code wherever you'd like the iframe to appear on your website.</p>
    </div>
    <h2 class="instructions">Popup Chat</h2>
    <div class="code-container">
        <div class="webpage">
            <pre><code id="chatbot-code" class="language-javascript">&lt;script type="text/javascript" src="https://app.eccoai.org/{{ user_id }}/{{ chatbot_id }}/popup.js"&gt;&lt;/script&gt;</code></pre>
            <img src="{{ url_for('static', filename='images/copy.png') }}" class="copy-img" onmouseover="showTooltip(this)" onmouseout="hideTooltip(this)" onclick="copyCode(this)" style="cursor: pointer;">
            <span class="tooltip">Copy to Clipboard</span>
        </div>
        <p style="color: #d3cece; margin-top: 5px;">Add this script just before the closing &lt;/body&gt; tag element of your HTML.</p>
    </div>
    <h2 class="instructions">Embedded Chat (iframe)</h2>
    <div class="code-container">
        <div class="webpage">
            <pre><code id="iframe-code" class="language-html">&lt;iframe id="chatbot-iframe" src="https://app.eccoai.org/{{ user_id }}/{{ chatbot_id }}" width="100%" height="700" style="visibility: hidden; border: none;" onload="this.style.visibility='visible';" allow="autoplay; clipboard-read; clipboard-write"&gt;&lt;/iframe&gt;</code></pre>
            <img src="{{ url_for('static', filename='images/copy.png') }}" class="copy-img" onmouseover="showTooltip(this)" onmouseout="hideTooltip(this)" onclick="copyIframeCode(this)" style="cursor: pointer;">
            <span class="tooltip">Copy to Clipboard</span>
        </div>
        <p style="color: #d3cece; margin-top: 5px;">Place this code wherever you'd like the iframe to appear on your website.</p>
    </div>
{% endblock %}
{% block scripts %}
    <script src="{{ url_for('static', filename='js/integrations.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-javascript.min.js"></script>
{% endblock %}